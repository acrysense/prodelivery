"use strict";

document.addEventListener('DOMContentLoaded', function () {
  // scrollbar
  function initializeSimpleBar() {
    var containers = document.querySelectorAll('.scrollable');
    containers.forEach(function (container) {
      if (window.innerWidth >= 768) {
        new SimpleBar(container);
      }
    });
  }
  window.addEventListener('load', initializeSimpleBar);
  window.addEventListener('resize', initializeSimpleBar);

  // menu
  var hamburger = document.getElementById('hamburger-toggle');
  var menu = document.getElementById('menu');
  if (menu && hamburger) {
    hamburger.addEventListener('click', function (event) {
      event.preventDefault();
      if (menu.classList.contains('is--active')) {
        hamburger.classList.remove('is--active');
        menu.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      } else {
        if (profileWrap.classList.contains('is--active')) {
          profileTrigger.classList.remove('is--active');
          profileWrap.classList.remove('is--active');
          document.body.classList.remove('scroll-disabled');
        }
        if (categoriesWrap.classList.contains('is--active')) {
          categoriesTrigger.classList.remove('is--active');
          categoriesWrap.classList.remove('is--active');
          document.body.classList.remove('scroll-disabled');
        }
        hamburger.classList.add('is--active');
        menu.classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      }
    });
  }

  // categories
  var categoriesTrigger = document.getElementById('categories-toggle');
  var categoriesWrap = document.querySelector('.categories');
  var categoriesClose = document.querySelector('.categories__back');
  if (categoriesWrap && categoriesTrigger && categoriesClose) {
    categoriesTrigger.addEventListener('click', function (event) {
      event.preventDefault();
      if (categoriesWrap.classList.contains('is--active')) {
        categoriesTrigger.classList.remove('is--active');
        categoriesWrap.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      } else {
        categoriesTrigger.classList.add('is--active');
        categoriesWrap.classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      }
    });
    categoriesClose.addEventListener('click', function (event) {
      event.preventDefault();
      if (categoriesWrap.classList.contains('is--active')) {
        categoriesTrigger.classList.remove('is--active');
        categoriesWrap.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      }
    });
  }

  // profile
  var profileTrigger = document.getElementById('profile-toggle');
  var profileWrap = document.querySelector('.profile');
  if (profileWrap && profileTrigger) {
    profileTrigger.addEventListener('click', function (event) {
      event.preventDefault();
      if (profileWrap.classList.contains('is--active')) {
        profileTrigger.classList.remove('is--active');
        profileWrap.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      } else {
        if (menu.classList.contains('is--active')) {
          hamburger.classList.remove('is--active');
          menu.classList.remove('is--active');
          document.body.classList.remove('scroll-disabled');
        }
        if (categoriesWrap.classList.contains('is--active')) {
          categoriesTrigger.classList.remove('is--active');
          categoriesWrap.classList.remove('is--active');
          document.body.classList.remove('scroll-disabled');
        }
        profileTrigger.classList.add('is--active');
        profileWrap.classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      }
    });
  }

  // main products slider
  var mainProductsSlider = document.querySelectorAll('.main-products__slider .swiper');
  if (mainProductsSlider) {
    mainProductsSlider.forEach(function (slider) {
      var myMainBannersSlider = new Swiper(slider, {
        slidesPerView: 6,
        spaceBetween: 15,
        loop: true,
        breakpoints: {
          1800: {
            slidesPerView: 6
          },
          1600: {
            slidesPerView: 5
          },
          768: {
            slidesPerView: 4
          },
          0: {
            slidesPerView: 'auto'
          }
        }
      });
    });
  }
});